import{j as e,B as s,t as a}from"./index-4g12zZ3T.js";import{r as t}from"./vendor-BIicUdBT.js";import{L as r}from"./router-c3EC9dD9.js";import{m as l,h as i,b as o,i as d,j as c,A as n,c as x,R as m}from"./ui-CxOPung0.js";import{w as g}from"./wordpressApi-Dpnff-oM.js";const h=({post:s})=>s?e.jsx(l.div,{whileHover:{y:-5},transition:{duration:.2},className:"h-full",children:e.jsxs(r,{to:`/articles/${s.slug}`,className:"block blog-card rounded-2xl overflow-hidden group h-full flex flex-col",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-full h-44 overflow-hidden",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:e=>{e.target.src="https://images.unsplash.com/photo-1595872018818-97555653a011?w=800&h=600&fit-crop"}})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-3 py-1 rounded-full text-xs font-semibold shadow-lg",children:s.category})}),e.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[s.featured&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-2 rounded-full shadow-lg",children:e.jsx(i,{className:"h-3 w-3"})}),s.trending&&e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-rose-500 text-white p-2 rounded-full shadow-lg",children:e.jsx(o,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-lg font-bold mb-2 group-hover:text-blue-400 transition-colors line-clamp-2",children:s.title}),e.jsx("p",{className:"text-gray-400 text-sm mb-4 leading-relaxed line-clamp-3",children:s.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-auto pt-3 border-t border-gray-800",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(d,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(c,{className:"h-4 w-4"}),e.jsx("span",{children:s.readTime})]})]}),e.jsx(n,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform text-blue-400"})]})]})]})}):null,y=()=>e.jsxs("div",{className:"blog-card rounded-2xl overflow-hidden animate-pulse",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("div",{className:"w-20 h-6 bg-gray-600 rounded-full"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded w-2/3"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded w-16"})]}),e.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded"})]})]})})]}),p=({category:r=null,showCategoryError:i=!1,limit:o=6,title:d="Recent Posts"})=>{const[c,n]=t.useState([]),[p,j]=t.useState(!0),[u,f]=t.useState(null),v=async()=>{try{let s;if(f(null),j(!0),r)try{const e=await g.getCategoryIdBySlug(r);s=await g.getPostsByCategory(e,{per_page:o})}catch(e){if(i)return f(`Category "${r}" not found. Please check if the category exists in WordPress.`),void n([]);s={posts:[]}}else s=await g.getPosts({per_page:o});n(s.posts)}catch(s){f(s.message)}finally{j(!1)}},b=()=>{g.clearCache(),v(),a({title:"Refreshing posts...",description:"Loading latest content"})};return t.useEffect(()=>{r&&(g.clearCache("posts"),g.clearCache("categories")),v()},[r,o]),p?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:d})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:o},(s,a)=>e.jsx(y,{},a))})]}):u?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:d}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-6 text-center",children:[e.jsx(x,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:r?`Category "${r}" Issue`:"Failed to Load Posts"}),e.jsx("p",{className:"text-red-200/80 mb-4",children:u}),e.jsxs(s,{onClick:b,variant:"outline",className:"border-red-400/50 text-red-300 hover:bg-red-500/20",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]}):0===c.length?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:d})}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-8 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-300 mb-2",children:r?`No posts found in "${r}" category`:"No posts available"}),e.jsx("p",{className:"text-yellow-200/80 mb-4",children:r?"This category exists but has no published posts yet. Try publishing a post with relevant keywords.":"No posts have been published yet."})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold gradient-text",children:d}),e.jsxs(s,{onClick:b,variant:"outline",size:"sm",className:"border-blue-400/50 text-blue-300 hover:bg-blue-500/20",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((s,a)=>e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},children:e.jsx(h,{post:s})},s.id))})]})};export{y as P,p as R,h as a};
