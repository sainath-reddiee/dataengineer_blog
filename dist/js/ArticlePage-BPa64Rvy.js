const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/AdPlacement-Ca5NSgo5.js","js/chunk-AUifOESy.js","js/chunk-THAFJUAu.js"])))=>i.map(i=>d[i]);
import{_ as k}from"../assets/index-TuVk15n3.js";import{j as e,m as p,g as f,p as S,q as D,r as L,d as w,s as A,R as C}from"./chunk-AUifOESy.js";import{f as E,r as j,L as b,R as h,h as I}from"./chunk-THAFJUAu.js";import{M as P,B as c}from"./chunk-DwriPZD-.js";import{a as R}from"./chunk-C3kV81jv.js";const y=h.lazy(()=>k(()=>import("./AdPlacement-Ca5NSgo5.js"),__vite__mapDeps([0,1,2]))),v=({error:s,onRetry:g,slug:o})=>{var a,n;const i=I(),d=t=>t?typeof t=="string"?t:t.message?t.message.includes("not found")?'Article "'.concat(o,'" was not found. It may have been moved or deleted.'):t.message.includes("Network")?"Unable to connect to the server. Please check your internet connection.":t.message.includes("timeout")?"The request took too long. Please try again.":t.message:"Failed to load the article. Please try again.":"An unknown error occurred",l=((a=s==null?void 0:s.message)==null?void 0:a.includes("not found"))||((n=s==null?void 0:s.message)==null?void 0:n.includes("404"));return e.jsx("div",{className:"pt-4 pb-12",children:e.jsxs("div",{className:"container mx-auto px-6 max-w-4xl",children:[e.jsx(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:e.jsx(c,{asChild:!0,variant:"outline",className:"border-2 border-blue-400/50 text-blue-300 hover:bg-blue-500/20 backdrop-blur-sm",children:e.jsxs(b,{to:"/articles",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"All Articles"]})})}),e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(A,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 text-red-400",children:l?"Article Not Found":"Error Loading Article"})]}),e.jsxs("div",{className:"max-w-md space-y-4",children:[e.jsx("p",{className:"text-gray-400 leading-relaxed",children:d(s)}),!l&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(c,{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Try Again"]}),e.jsx(c,{variant:"outline",onClick:()=>i("/articles"),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Browse Articles"})]}),l&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{onClick:()=>i("/articles"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Browse All Articles"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Looking for something specific? Try searching our articles."})]})]}),!1]})]})})},_=()=>e.jsx("div",{className:"pt-4 pb-12",children:e.jsxs("div",{className:"container mx-auto px-6 max-w-4xl",children:[e.jsx(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:e.jsx(c,{asChild:!0,variant:"outline",className:"border-2 border-blue-400/50 text-blue-300 hover:bg-blue-500/20 backdrop-blur-sm",children:e.jsxs(b,{to:"/articles",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"All Articles"]})})}),e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"h-8 w-8 animate-spin text-blue-400"}),e.jsx("div",{className:"absolute inset-0 h-8 w-8 border-4 border-purple-400 border-b-transparent rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1s"}})]}),e.jsx("p",{className:"text-gray-400",children:"Loading article..."}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]})}),T=({src:s,alt:g,className:o})=>{const[a,n]=h.useState(!1),[i,d]=h.useState(null),[l,t]=h.useState(!1);return h.useEffect(()=>{if(!s){t(!0);return}const m=new Image,x=window.innerWidth<=768;let r=s;try{const u=new URL(s);x&&!s.includes("unsplash.com")&&(r=s.replace(/w=\d+/,"w=400").replace(/h=\d+/,"h=300"))}catch(u){}m.onload=()=>{d(r),n(!0)},m.onerror=()=>{if(r!==s){const u=new Image;u.onload=()=>{d(s),n(!0)},u.onerror=()=>{t(!0)},u.src=s}else t(!0)},m.src=r},[s]),l?e.jsxs("div",{className:"relative ".concat(o," bg-gradient-to-br from-slate-800 to-slate-700 flex items-center justify-center"),children:[e.jsxs("div",{className:"text-gray-500 text-center",children:[e.jsx(A,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("span",{className:"text-sm",children:"Image not available"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"})]}):e.jsxs("div",{className:"relative ".concat(o),children:[!a&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 animate-pulse rounded-2xl flex items-center justify-center",children:e.jsx(w,{className:"h-8 w-8 animate-spin text-blue-400"})}),i&&e.jsx("img",{className:"w-full h-full object-cover transition-opacity duration-300 ".concat(a?"opacity-100":"opacity-0"),alt:g||"Article image",src:i,loading:"lazy",decoding:"async",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 70vw",style:{contentVisibility:"auto",containIntrinsicSize:"800px 400px"},onError:()=>t(!0)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"})]})},N=()=>e.jsx("div",{className:"h-32 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 animate-pulse rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"Advertisement"})}),F=()=>{const{slug:s}=E(),[g,o]=j.useState(0),{post:a,loading:n,error:i,refetch:d}=R(s);j.useEffect(()=>{!s||typeof s!="string"||s.trim()},[s]);const l=()=>{o(x=>x+1),d()};if(n)return e.jsx(_,{});if(i)return e.jsx(v,{error:i,onRetry:l,slug:s});if(!a)return e.jsx(v,{error:"Post not found",onRetry:l,slug:s});const t={id:a.id||"unknown",title:a.title||"Untitled",excerpt:a.excerpt||"",content:a.content||"<p>Content not available</p>",category:a.category||"Uncategorized",author:a.author||"DataEngineer Hub",date:a.date||new Date().toISOString(),readTime:a.readTime||"1 min read",image:a.image||"https://images.unsplash.com/photo-1595872018818-97555653a011?w=800&h=600&fit=crop"},m=x=>{try{const r=new Date(x);return isNaN(r.getTime())?new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(r){return new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}};return e.jsxs("div",{className:"pt-4 pb-12",children:[e.jsx(P,{title:t.title,description:t.excerpt,image:t.image,type:"article"}),e.jsxs("div",{className:"container mx-auto px-6 max-w-4xl",children:[e.jsx(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:e.jsx(c,{asChild:!0,variant:"outline",className:"border-2 border-blue-400/50 text-blue-300 hover:bg-blue-500/20 backdrop-blur-sm",children:e.jsxs(b,{to:"/articles",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"All Articles"]})})}),e.jsxs(p.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"space-y-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx(T,{src:t.image,alt:t.title,className:"w-full h-64 md:h-96 rounded-2xl overflow-hidden"}),e.jsx("div",{className:"absolute inset-0 flex items-end p-6 md:p-8",children:e.jsxs("div",{className:"space-y-4 text-white",children:[e.jsx("div",{className:"inline-block px-3 py-1 bg-blue-600/80 backdrop-blur-sm rounded-full text-sm font-medium",children:t.category}),e.jsx("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-bold leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:t.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:m(t.date)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:t.readTime})]})]})]})})]}),e.jsx(j.Suspense,{fallback:e.jsx(N,{}),children:e.jsx(y,{position:"article-top"})}),e.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content},className:"article-content"})}),e.jsx(j.Suspense,{fallback:e.jsx(N,{}),children:e.jsx(y,{position:"article-bottom"})}),e.jsx("div",{className:"border-t border-gray-800 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-400",children:"Published by"}),e.jsx("p",{className:"font-semibold text-white",children:t.author})]}),e.jsx(c,{asChild:!0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:e.jsx(b,{to:"/articles",children:"Read More Articles"})})]})})]})]})]})};export{F as default};
